<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="home" [text]=""></ion-back-button>
    </ion-buttons>
    <ion-title>{{store_id}}-{{id}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content *ngIf="customOrder">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large"> {{store_id}}-{{id}}</ion-title>
      <ion-title>Detalle encargo</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-accordion-group [multiple]="true" [value]="['second', 'first', 'third']">
    <ion-accordion value="first">
      <ion-item slot="header" color="light">
        <ion-label>Pedido</ion-label>
      </ion-item>
      <div class="ion-padding" slot="content">
        <ion-grid>
          <ion-item-divider>
            <ion-label> Informaci贸n del pedido</ion-label>
          </ion-item-divider>
          <ion-row>
            <ion-col>Fecha pedido:</ion-col><ion-col>{{customOrder.date}}</ion-col></ion-row>
          <ion-row><ion-col>Fecha de entrega:</ion-col><ion-col>{{customOrder.date_out}} {{customOrder.hour_out}}</ion-col></ion-row>
          <ion-row>
            <ion-col>Documento:</ion-col><ion-col>{{customOrder.id}}</ion-col>
          </ion-row>
          <ion-row>
            <ion-col>Cliente:</ion-col><ion-col>{{customOrder.contact_name}}</ion-col>
          </ion-row>
          <ion-row>
            <ion-col>Telefono:</ion-col><ion-col>{{customOrder.phone}}</ion-col>
          </ion-row>
          <ion-row>
            <ion-col>Direcci贸n:</ion-col><ion-col>{{customOrder.address}}</ion-col>
          </ion-row>
          <ion-row>
            <ion-col>Observaci贸n:</ion-col><ion-row> <ion-col>{{customOrder.observation}}</ion-col> </ion-row>
          </ion-row>
          <ion-item-divider>
            <ion-label></ion-label>
          </ion-item-divider>
        </ion-grid>
      </div>
    </ion-accordion>
    <ion-accordion value="second">
      <ion-item slot="header" color="light">
        <ion-label>Detalle</ion-label>
      </ion-item>
      <div class="ion-padding" slot="content">
        <div *ngFor="let detail of customOrderDetail">
          <ion-card>
            <ion-card-header>
              <ion-card-title>{{detail.custom_order_product_type}}</ion-card-title>
              <ion-card-title>{{detail.product.name}}</ion-card-title>
            </ion-card-header>
            <ion-item-divider>
              <ion-label></ion-label>
            </ion-item-divider>
            <img
              *ngIf="detail.detail.url_image != 'url.com/image.com' "
              alt="Silhouette of mountains"
              src="{{detail.detail.url_image}}"
              width="100%"
              height="90%"
            />
            <img
              *ngIf="detail.detail.url_image == 'url.com/image.com' "
              alt="Silhouette of mountains"
              src="https://img-global.cpcdn.com/recipes/recipes_8676_v1393305603_foto_foto_00005993/1200x630cq70/photo.jpg"
              width="100%"
              height="90%"
            />

            <ion-card-content>
              <ion-grid>
                <div>
                  <ion-row>
                    <ion-item-divider>
                      <ion-label>Productos</ion-label>
                    </ion-item-divider>
                  </ion-row>
                  <br>
                  <ion-row>
                    <div>
                      <ion-col>{{detail.detail.quantity}}</ion-col><ion-col>{{detail.product.name}}</ion-col>
                    </div>
                  </ion-row>
                </div>
                <br />
                <div *ngIf="detail.custom_order_final_base_sizes">
                  <ion-row>
                    <ion-item-divider>
                      <ion-label>Base</ion-label>
                    </ion-item-divider>
                  </ion-row>
                  <ion-row>
                    <div *ngFor="let base of detail.custom_order_final_base_sizes">
                      <ion-col>{{base.custom_order_base}} -</ion-col><ion-col>{{base.custom_order_base_description}}</ion-col><ion-col>- {{base.size}}</ion-col>
                    </div>
                  </ion-row>
                </div>
                <br />
                <div *ngIf="detail.custom_order_final_decorations">
                  <ion-row>
                    <ion-item-divider>
                      <ion-label>Decoraci贸n</ion-label>
                    </ion-item-divider>
                  </ion-row>
                  <ion-row>
                    <div
                      *ngFor="let decoration of detail.custom_order_final_decorations">
                      <ion-col>{{decoration.custom_order_decorations}} -</ion-col><ion-col>{{decoration.custom_order_decorations_description}}</ion-col><ion-col>- {{decoration.size}}</ion-col>
                    </div>
                  </ion-row>
                </div>
                <br />
                <div *ngIf="detail.custom_order_final_fill_sizes">
                  <ion-row>
                    <ion-item-divider>
                      <ion-label>Relleno</ion-label>
                    </ion-item-divider>
                  </ion-row>
                  <ion-row>
                    <div
                      *ngFor="let fill of detail.custom_order_final_fill_sizes">
                      <ion-col>{{fill.custom_order_fills}} -</ion-col><ion-col>{{fill.custom_order_fills_description}}</ion-col><ion-col> -{{fill.size}}</ion-col>
                    </div>
                  </ion-row>
                </div>
                <br />
                <div *ngIf="detail.custom_order_shape_sizes">
                  <ion-row>
                    <ion-item-divider>
                      <ion-label>Forma y Masa</ion-label>
                    </ion-item-divider>
                  </ion-row>
                  <ion-row>
                    <div
                      *ngFor="let shape_mass of detail.custom_order_shape_sizes">
                      <ion-row>
                        <ion-col>{{shape_mass.custom_order_shapes}} -</ion-col><ion-col>{{shape_mass.custom_order_shapes_description}}</ion-col><ion-col> -{{shape_mass.size}}</ion-col>
                      </ion-row>
                      <ion-row>
                        <ion-col>{{shape_mass.custom_order_mass_type}} -</ion-col><ion-col>{{shape_mass.custom_order_mass_type_description}}</ion-col>
                      </ion-row>
                    </div>
                    <ion-item-divider>
                      <ion-label></ion-label>
                    </ion-item-divider>
                  </ion-row>
                </div>
              </ion-grid>
            </ion-card-content>
          </ion-card>
        </div>
      </div>
    </ion-accordion>
    <ion-accordion value="third">
      <ion-item slot="header" color="light">
        <ion-label>Anticipos</ion-label>
      </ion-item>
      <ion-item-divider>
        <ion-label>Forma de pago</ion-label>
      </ion-item-divider>
      <div
        class="ion-padding"
        slot="content"
        *ngFor="let advance of customOrderAdvances"
      >
        <ion-col>{{advance.payment_method}}</ion-col><ion-col align="left">${{advance.value}}</ion-col>
      </div>
    </ion-accordion>
  </ion-accordion-group>
</ion-content>
